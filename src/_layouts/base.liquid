<!doctype html>
<html lang="en" class="h-full antialiased">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% if title %}{{ title }} · {% endif %}{{ site.title | default: "BibleProject Reading Plans" }}</title>
  <meta name="description" content="{{ description | default: site.description }}">
  <meta name="theme-color" content="#0C5A65">
  <meta property="og:title" content="{% if title %}{{ title }}{% else %}{{ site.title }}{% endif %}">
  <meta property="og:description" content="{{ description | default: site.description }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ site.url }}{{ page.url }}">
  <meta name="twitter:card" content="summary">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
  <!-- Preload critical assets -->
  <link rel="preload" href="/assets/styles.css" as="style">
  <link rel="preload" href="/assets/app.js" as="script">
  <!-- DNS prefetch for external resources -->
  <link rel="dns-prefetch" href="//www.youtube.com">
  <!-- Critical CSS -->
  <link rel="stylesheet" href="/assets/styles.css">
  <!-- Mobile fallback CSS for enhanced accessibility -->
  <link rel="stylesheet" href="/assets/mobile-fallback.css">
</head>
<body class="min-h-full bg-bg text-text-primary leading-relaxed selection:bg-accent-orange selection:text-white">
  <header class="sticky top-0 z-50 border-b border-border bg-bg/90 backdrop-blur">
    <div class="relative mx-auto max-w-content px-4 py-3 flex items-center gap-3">
      <a href="/" class="font-serif text-text-primary hover:underline">BibleProject Plans</a>
      <span class="mobile-hide hidden sm:inline text-text-secondary">· OT + NT with videos</span>
      <button id="menu-button" aria-expanded="false" aria-controls="main-nav" class="ml-auto flex items-center gap-1 rounded-md px-2 py-1 text-sm text-text-secondary ring-1 ring-border sm:hidden">
        <span>Menu</span>
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M2 4h12v1H2V4zm0 3.5h12v1H2v-1zM2 11h12v1H2v-1z"/>
        </svg>
      </button>
      <nav id="main-nav" class="hidden absolute top-full inset-x-4 mt-2 flex-col gap-2 rounded-md border border-border bg-bg px-4 py-3 text-sm sm:static sm:ml-auto sm:mt-0 sm:flex sm:flex-row sm:gap-4 sm:border-0 sm:p-0 sm:bg-transparent">
        <a class="text-accent-teal hover:underline" href="/">Home</a>
        <a class="text-accent-teal hover:underline" href="/weeks/">Weeks</a>
        <a class="text-accent-teal hover:underline" href="/day/1/">Start</a>
      </nav>
    </div>
  </header>
  <main class="mx-auto max-w-content px-4 py-8 md:py-10">
    {{ content }}
  </main>
  <footer class="mt-8 border-t border-border">
    <div class="mx-auto max-w-content px-4 py-6 text-xs text-text-secondary flex items-center justify-between">
      <p>Built with Eleventy · Scripture data from BibleProject plans</p>
      <a class="text-accent-teal hover:underline" href="/">Back to top</a>
    </div>
  </footer>
  <script src="/assets/app.js" defer></script>
  <script>
    // Register service worker for offline caching
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => console.log('SW registered:', registration))
          .catch(error => console.log('SW registration failed:', error));
      });
    }
  </script>
</body>
</html>
