<!doctype html>
<html lang="en" class="h-full antialiased">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% if title %}{{ title }} · {% endif %}{{ site.title | default: "BibleProject Reading Plans" }}</title>
  <meta name="description" content="{{ description | default: site.description }}">
  <meta name="theme-color" content="#0C5A65">
  <meta property="og:title" content="{% if title %}{{ title }}{% else %}{{ site.title }}{% endif %}">
  <meta property="og:description" content="{{ description | default: site.description }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ site.url }}{{ page.url }}">
  <meta name="twitter:card" content="summary">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
  <!-- Preload critical assets -->
  <link rel="preload" href="/assets/styles.css" as="style">
  <link rel="preload" href="/assets/app.js" as="script">
  <!-- DNS prefetch for external resources -->
  <link rel="dns-prefetch" href="//www.youtube.com">
  <!-- Critical CSS -->
  <link rel="stylesheet" href="/assets/styles.css">
  <!-- Mobile fallback CSS for enhanced accessibility -->
  <link rel="stylesheet" href="/assets/mobile-fallback.css">
</head>
<body class="min-h-full bg-bg text-primary leading-relaxed">
  <header class="sticky top-0 z-50 bg-bg/80 backdrop-blur border-b border-border">
    <div class="relative mx-auto max-w-content px-4 py-3 flex items-center gap-3">
      <a href="/" class="font-serif font-bold hover:underline">BibleProject Plans</a>
      <nav class="ml-auto flex gap-4 text-sm">
        <a class="hover:underline" href="/">Home</a>
        <a class="hover:underline" href="/weeks/">Weeks</a>
        <a class="text-accent-teal hover:underline" href="/day/1/">Start</a>
      </nav>
    </div>
  </header>
  <main class="mx-auto max-w-content px-4 py-8 md:py-10">
    {{ content }}
  </main>
  <footer class="mt-8 border-t border-border">
    <div class="mx-auto max-w-content px-4 py-6 text-xs text-secondary flex items-center justify-between">
      <p>Built with Eleventy · Scripture data from BibleProject plans</p>
      <a class="hover:underline" href="/">Back to top</a>
    </div>
  </footer>
  <script src="/assets/app.js" defer></script>
  <script>
    // Register service worker for offline caching
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => console.log('SW registered:', registration))
          .catch(error => console.log('SW registration failed:', error));
      });
    }
  </script>
</body>
</html>
